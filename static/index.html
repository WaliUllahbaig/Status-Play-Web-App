<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StatusPlay | Pro Dashboard</title>
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="static/style.css">
    <!-- Ionicons for Premium Icons -->
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
</head>

<body>

    <!-- Notification Toast -->
    <div id="toast-container"></div>

    <!-- Login View -->
    <div id="login-view" class="login-container">
        <div class="login-card glass-effect">
            <h1 class="logo">StatusPlay</h1>
            <p style="color: #a0a0a0; margin-bottom: 20px;">Premium Padel Coordination</p>
            <input type="text" id="username-input" placeholder="Enter your name..." autocomplete="off">
            <button id="login-btn" class="btn-primary">ENTER COURT</button>
        </div>
    </div>

    <!-- App Container -->
    <div id="app-view" class="dashboard-container hidden">

        <!-- Sidebar -->
        <aside class="sidebar glass-effect">
            <div class="logo">StatusPlay</div>
            <nav id="sidebar-nav">
                <div class="nav-item active" data-view="dashboard">
                    <ion-icon name="grid-outline"></ion-icon> Dashboard
                </div>
                <div class="nav-item" data-view="profile">
                    <ion-icon name="person-circle-outline"></ion-icon> My Profile
                </div>
                <div class="nav-item" data-view="my-team">
                    <ion-icon name="people-outline"></ion-icon> My Team
                </div>
                <div class="nav-item" data-view="team-chat">
                    <ion-icon name="chatbubbles-outline"></ion-icon> Team Chat
                </div>
                <div class="nav-item" data-view="courts">
                    <ion-icon name="tennisball-outline"></ion-icon> Courts
                </div>
                <div class="nav-item" data-view="tournaments">
                    <ion-icon name="trophy-outline"></ion-icon> Tournaments
                </div>
                <div class="nav-item" data-view="rankings">
                    <ion-icon name="podium-outline"></ion-icon> Team Rankings
                </div>
                <div class="nav-item" data-view="info">
                    <ion-icon name="information-circle-outline"></ion-icon> Game Info
                </div>
                <div class="nav-item" data-view="settings">
                    <ion-icon name="settings-outline"></ion-icon> Settings
                </div>
                <div class="nav-item" id="logout-btn" style="color: #ff4444; margin-top: 50px;">
                    <ion-icon name="log-out-outline"></ion-icon> Logout
                </div>
            </nav>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content">

            <!-- Global Top Bar -->
            <header class="top-bar glass-effect">
                <h2 id="page-title" style="font-weight: 600;">Dashboard Preview</h2>
                <div class="user-profile">
                    <span id="user-display-name">Player</span>
                    <div class="avatar">üéæ</div>
                </div>
            </header>

            <!-- VIEW: DASHBOARD -->
            <section id="view-dashboard" class="view-section">
                <!-- Quick Stats -->
                <div class="stats-grid">
                    <div class="stat-card glass-effect">
                        <span class="stat-label">Total Players</span>
                        <span class="stat-value" id="total-players-val">--</span>
                        <span class="stat-label" style="color: var(--primary-neon);">Active Now</span>
                    </div>
                    <div class="stat-card glass-effect">
                        <span class="stat-label">Weather</span>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <span class="stat-value" id="weather-temp-val" style="font-size: 1.5rem;">--</span>
                            <ion-icon name="partly-sunny-outline" style="font-size: 1.5rem; color: #fff;"></ion-icon>
                        </div>
                        <span class="stat-label" id="weather-cond-val">--</span>
                    </div>
                    <div class="stat-card glass-effect">
                        <span class="stat-label">Next Match</span>
                        <span class="stat-value" id="next-match-time" style="font-size: 1.5rem;">--</span>
                        <span class="stat-label" id="next-match-teams" style="font-size: 0.8rem;">--</span>
                    </div>
                    <div class="stat-card glass-effect">
                        <span class="stat-label">Cutoff Time</span>
                        <span class="stat-value" style="color: var(--accent-blue);">17:00</span>
                        <span class="stat-label">Daily</span>
                    </div>
                </div>

                <!-- Action Area (MOVED ABOVE CHARTS in 3.0) -->
                <div class="glass-effect" style="padding: 25px; text-align: center; margin-top: 20px;">
                    <h3 style="margin-bottom: 20px; font-weight: 800;">READY TO PLAY?</h3>
                    <div style="display: flex; gap: 30px; justify-content: center;">
                        <button id="btn-in" class="btn-primary"
                            style="min-width: 150px; background: rgba(57, 255, 20, 0.1); border: 2px solid var(--primary-neon); color: var(--primary-neon); box-shadow: 0 0 20px rgba(57, 255, 20, 0.2);">I'M
                            IN</button>
                        <button id="btn-out" class="btn-primary"
                            style="min-width: 150px; background: rgba(255, 68, 68, 0.1); border: 2px solid #ff4444; color: #ff4444; box-shadow: none;">I'M
                            OUT</button>
                    </div>
                </div>

                <!-- Charts Row (MOVED BELOW STATUS in 3.0) -->
                <div class="charts-grid" style="margin-top: 25px;">
                    <div class="chart-container glass-effect">
                        <h3 style="margin-bottom: 15px;">Live Court Status</h3>
                        <canvas id="courtsChart"></canvas>
                    </div>
                    <div class="chart-container glass-effect">
                        <h3 style="margin-bottom: 15px;">Squad Participation</h3>
                        <canvas id="teamsChart"></canvas>
                    </div>
                </div>

                <!-- Lists Row -->
                <div class="lists-grid" style="margin-top: 20px;">
                    <div class="list-panel glass-effect">
                        <h3 style="margin-bottom: 15px;">Man of the Match üëë</h3>
                        <div style="text-align: center; padding: 20px;">
                            <div class="avatar" style="width: 80px; height: 80px; margin: 0 auto; font-size: 2rem;">üèÜ
                            </div>
                            <h2 id="motm-name" style="margin: 10px 0;">--</h2>
                            <p id="motm-points" style="color: var(--primary-neon);">0 Pts</p>
                        </div>
                    </div>

                    <div class="list-panel glass-effect">
                        <h3 style="margin-bottom: 15px;">Discount Offer üè∑Ô∏è</h3>
                        <div id="discount-banner"
                            style="background: linear-gradient(45deg, var(--accent-blue), transparent); padding: 20px; border-radius: 12px; font-weight: 800; font-size: 1.2rem;">
                            Loading Offer...
                        </div>
                    </div>

                    <div class="list-panel glass-effect">
                        <h3 style="margin-bottom: 15px;">Waiting List (<span id="wait-count">0</span>)</h3>
                        <div class="list-item"><span>Rehan</span> <span style="color: orange;">Queue 1</span></div>
                        <div class="list-item"><span>Zoya</span> <span style="color: orange;">Queue 2</span></div>
                    </div>
                </div>

                <!-- Active Roster -->
                <div class="list-panel glass-effect" style="margin-top: 20px;">
                    <h3>Active Roster</h3>
                    <div id="roster-list"></div>
                </div>
            </section>

            <!-- VIEW: PROFILE -->
            <section id="view-profile" class="view-section hidden">
                <div class="glass-effect" style="padding: 40px; max-width: 800px; margin: 0 auto;">
                    <div style="display: flex; gap: 30px; align-items: center; margin-bottom: 40px;">
                        <div class="avatar" style="width: 120px; height: 120px; font-size: 3rem;">üë§</div>
                        <div>
                            <h2 style="font-size: 2rem; font-weight: 800;" id="profile-name">--</h2>
                            <p style="color: var(--primary-neon); font-weight: 600;">Status: Verified Player</p>
                        </div>
                    </div>

                    <div class="profile-form">
                        <div class="input-group">
                            <label>Email Address</label>
                            <input type="email" id="profile-email" placeholder="example@mail.com">
                        </div>
                        <div class="input-group">
                            <label>Phone Number</label>
                            <input type="text" id="profile-phone" placeholder="0300-XXXXXXX">
                        </div>
                        <div class="input-group">
                            <label>Preferred Play Slots</label>
                            <input type="text" id="profile-slots" placeholder="e.g. 18:00 - 22:00">
                        </div>
                        <button id="save-profile-btn" class="btn-primary" style="margin-top: 20px; width: auto;">SAVE
                            CHANGES</button>
                    </div>
                </div>
            </section>

            <!-- VIEW: MY TEAM -->
            <section id="view-my-team" class="view-section hidden">
                <div class="glass-effect" style="padding: 30px;">
                    <h2 id="team-name-big" class="title">Loading Team...</h2>
                    <h4 style="color: var(--text-secondary); margin-bottom: 20px;">Divison A - Rank <span
                            id="team-rank">#</span></h4>

                    <div class="stats-grid">
                        <div class="stat-card glass-effect" style="background: rgba(57, 255, 20, 0.05);">
                            <span class="stat-label">Season Wins</span>
                            <span class="stat-value" id="team-wins">--</span>
                        </div>
                        <div class="stat-card glass-effect">
                            <span class="stat-label">Next Match</span>
                            <span class="stat-value" style="font-size:1.2rem;" id="team-next-match">--</span>
                        </div>
                    </div>

                    <h3 style="margin-top: 30px; margin-bottom: 15px;">Squad Members (Max 4)</h3>
                    <div id="team-roster-list" class="lists-grid">
                        <!-- Populated by JS -->
                    </div>
                    <button id="request-team-change-btn" class="btn-primary"
                        style="margin-top: 30px; background: rgba(255, 165, 0, 0.1); border: 2px solid #ffa500; color: #ffa500;">REQUEST
                        TEAM CHANGE</button>
                </div>
            </section>

            <!-- VIEW: TEAM CHAT -->
            <section id="view-team-chat" class="view-section hidden">
                <div class="glass-effect" style="padding: 30px; max-width: 900px; margin: 0 auto;">
                    <h2 style="margin-bottom: 20px;">Team Chat</h2>
                    <div id="chat-messages"
                        style="height: 400px; overflow-y: auto; background: rgba(0,0,0,0.2); border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                        <!-- Messages populated by JS -->
                    </div>
                    <div style="display: flex; gap: 15px;">
                        <input type="text" id="chat-input" placeholder="Type your message..." style="flex: 1;">
                        <button id="send-chat-btn" class="btn-primary" style="min-width: 120px;">SEND</button>
                    </div>
                </div>
            </section>

            <!-- VIEW: COURTS -->
            <section id="view-courts" class="view-section hidden">
                <div class="charts-grid" style="grid-template-columns: 1fr;"> <!-- Reusing grid class for simplicity -->
                    <div id="courts-grid-container"
                        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                        <!-- JS populated courts -->
                    </div>
                </div>
            </section>

            <!-- VIEW: TOURNAMENTS -->
            <section id="view-tournaments" class="view-section hidden">
                <div class="glass-effect" style="padding: 30px; margin-bottom: 20px;">
                    <h2>Active Tournaments</h2>
                    <div id="tournaments-list" style="margin-top: 20px;">
                        <!-- JS populated -->
                    </div>
                </div>
            </section>

            <!-- VIEW: TEAM RANKINGS -->
            <section id="view-rankings" class="view-section hidden">
                <div class="glass-effect" style="padding: 30px;">
                    <h2 style="color: var(--primary-neon);">Official Team Rankings</h2>
                    <p style="color: #a0a0a0; margin-bottom: 30px;">Teams are ranked by total match wins this season.
                    </p>
                    <div id="teams-table-container">
                        <!-- JS populated table -->
                    </div>
                </div>
            </section>

            <!-- VIEW: GAME INFO -->
            <section id="view-info" class="view-section hidden">
                <div class="glass-effect" style="padding: 30px;">
                    <h2 style="color: var(--primary-neon);">Game Rules & Scoring System</h2>
                    <p style="color: #a0a0a0; margin-bottom: 30px;">Everything you need to know about StatusPlay scoring
                        and skill levels.</p>

                    <!-- Points Table -->
                    <h3 style="margin-bottom: 15px;">üèÜ Points Calculation</h3>
                    <table class="pro-table" style="margin-bottom: 40px;">
                        <thead>
                            <tr>
                                <th>Action</th>
                                <th>Points Awarded</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Win</strong></td>
                                <td style="color: var(--primary-neon);">+10</td>
                                <td>Victory in a match</td>
                            </tr>
                            <tr>
                                <td><strong>Draw</strong></td>
                                <td style="color: var(--accent-blue);">+5</td>
                                <td>Tied match result</td>
                            </tr>
                            <tr>
                                <td><strong>Participation</strong></td>
                                <td style="color: #ffd93d;">+2</td>
                                <td>Showing up to play</td>
                            </tr>
                            <tr>
                                <td><strong>Man of the Match</strong></td>
                                <td style="color: var(--primary-neon); font-weight: 800;">+50</td>
                                <td>Outstanding performance bonus</td>
                            </tr>
                        </tbody>
                    </table>

                    <!-- Difficulty Levels Table -->
                    <h3 style="margin-bottom: 15px;">üî• Skill Level Guide</h3>
                    <table class="pro-table">
                        <thead>
                            <tr>
                                <th>Level</th>
                                <th>Description</th>
                                <th>Characteristics</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="status-badge"
                                        style="background: #4caf50; color: white;">Beginner</span></td>
                                <td>New to Padel</td>
                                <td>Learning rules and basic techniques</td>
                            </tr>
                            <tr>
                                <td><span class="status-badge" style="background: #8bc34a; color: white;">Easy</span>
                                </td>
                                <td>Casual Player</td>
                                <td>Can rally consistently</td>
                            </tr>
                            <tr>
                                <td><span class="status-badge" style="background: #ffc107; color: black;">Medium</span>
                                </td>
                                <td>Intermediate</td>
                                <td>Strategic play, good serves</td>
                            </tr>
                            <tr>
                                <td><span class="status-badge" style="background: #ff9800; color: white;">Hard</span>
                                </td>
                                <td>Advanced</td>
                                <td>Tournament level play</td>
                            </tr>
                            <tr>
                                <td><span class="status-badge" style="background: #f44336; color: white;">Expert</span>
                                </td>
                                <td>Professional</td>
                                <td>Coach or competitive pro level</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
    </div>
    </section>

    <!-- VIEW: SETTINGS -->
    <section id="view-settings" class="view-section hidden">
        <div class="glass-effect" style="padding: 30px;">
            <h2>Settings</h2>
            <p style="color: #a0a0a0; margin-top: 10px;">User preferences coming soon.</p>
        </div>
    </section>

    </main>
    </div>

    <script src="static/script.js?v=StatusPlay_3.0"></script>
</body>

</html>